{"version":3,"sources":["useAuth.js","TrackSearchResult.js","Components/Appbar.js","helper/spotifyAPICalls.js","Components/CardComponent.js","Components/Home.js","helper/apiCalls.js","Components/MusicPlayer.js","Components/Player.js","Components/Loading.js","Dashboard.js","Login.js","App.js","Routes.js","index.js"],"names":["backend","process","useAuth","code","useState","accessToken","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","useEffect","axios","post","then","res","data","window","history","pushState","catch","err","console","log","location","interval","setInterval","refresh","TrackSearchResult","track","chooseTrack","input","id","style","cursor","display","margin","alignItems","onClick","src","albumUrl","height","width","marginLeft","Typography","variant","title","artist","name","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","searchIcon","padding","pointerEvents","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","Appbar","setSearch","result","setResult","setPlayingTrack","classes","sw","document","getElementById","className","AppBar","Toolbar","noWrap","InputBase","placeholder","inputProps","onChange","e","target","value","map","uri","spotifyApi","SpotifyWebApi","clientId","getSongs","setSearchResult","card","cancel","searchTracks","body","tracks","items","smallAlbumImage","album","images","reduce","smallest","image","artists","url","externalUrl","external_urls","spotify","background","details","flexDirection","content","flex","cover","controls","paddingBottom","playIcon","MAX_SPEED","parseInt","CardComponent","index","speed","useTheme","Key","_text","substr","length","getSongInfo","Card","CardMedia","CardContent","component","whiteSpace","Box","textOverflow","overflow","IconButton","aria-label","arg","Home","setUrlName","playSong","names","a","bucket","forEach","includes","test","replaceAll","handleDownload","get","params","dest","handleUpload","internetSpeed","MusicPlayer","trackUrl","setTrackUrl","alt","autoPlay","Player","setUrl","setNames","startUp","JSON","parse","ListBucketResult","Contents","arr","handlePlay","bottom","textAlign","Button","btn","innerHTML","backdrop","zIndex","drawer","Loading","open","setOpen","Backdrop","CircularProgress","Dashboard","list","setList","searchResult","playingTrack","song","old","marginTop","marginBottom","AUTH_URL","login","href","textDecoration","size","createMuiTheme","primary","light","main","dark","contrastText","secondary","URLSearchParams","App","setSpeed","ThemeProvider","InitiateSpeedDetection","setTimeout","MeasureConnectionSpeed","startTime","endTime","download","Image","onload","Date","getTime","speedMBps","downloadSize","toFixed","showResults","onerror","msg","error","cacheBuster","addEventListener","attachEvent","getInternetSpeed","Login","Routes","path","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d46b9904.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst backend = process.env.REACT_APP_BACKEND;\r\nconsole.log(\"BACKEND: \", backend);\r\n\r\nexport default function useAuth(code) {\r\n  const [accessToken, setAccessToken] = useState();\r\n  const [refreshToken, setRefreshToken] = useState();\r\n  const [expiresIn, setExpiresIn] = useState();\r\n\r\n  const login = () => {\r\n    axios\r\n      .post(`${backend}/login`, { code })\r\n      .then((res) => {\r\n        setAccessToken(res.data.accessToken);\r\n        setRefreshToken(res.data.refreshToken);\r\n        setExpiresIn(res.data.expiresIn);\r\n        window.history.pushState({}, null, \"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        window.location = \"/\";\r\n      });\r\n  };\r\n\r\n  const refresh = () => {\r\n    if (!refreshToken || !expiresIn) return;\r\n    const interval = setInterval(() => {\r\n      axios\r\n        .post(`${backend}/refresh`, { refreshToken })\r\n        .then((res) => {\r\n          setAccessToken(res.data.accessToken);\r\n          setExpiresIn(res.data.expiresIn);\r\n        })\r\n        .catch(() => {\r\n          window.location = \"/\";\r\n        });\r\n    }, (expiresIn - 60) * 1000);\r\n    return () => clearInterval(interval);\r\n  };\r\n\r\n  useEffect(() => {\r\n    login();\r\n  }, [code]);\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, [refreshToken, expiresIn]);\r\n\r\n  return accessToken;\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport \"./Components/home.css\";\r\n\r\nconst TrackSearchResult = ({ track, chooseTrack, input }) => {\r\n  function handlePlay() {\r\n    chooseTrack(track);\r\n    input.style.display = \"none\";\r\n  }\r\n  return (\r\n    <div\r\n      id=\"track\"\r\n      style={{\r\n        cursor: \"pointer\",\r\n        display: \"flex\",\r\n        margin: \"1rem\",\r\n        alignItems: \"center\",\r\n      }}\r\n      onClick={handlePlay}\r\n    >\r\n      <img src={track.albumUrl} style={{ height: \"64px\", width: \"64px\" }} />\r\n      <div style={{ marginLeft: \"1.2rem\" }}>\r\n        <Typography variant=\"subtitle1\">\r\n          {\" \"}\r\n          <strong>{track.title}</strong>{\" \"}\r\n        </Typography>\r\n        <Typography variant=\"body2\">{track.artist[0].name}</Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrackSearchResult;\r\n","import React from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TrackSearchResult from \"../TrackSearchResult\";\r\nimport \"./home.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"12ch\",\r\n      \"&:focus\": {\r\n        width: \"20ch\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst Appbar = ({\r\n  search,\r\n  setSearch,\r\n  result,\r\n  setResult,\r\n  setPlayingTrack,\r\n  chooseTrack,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  let sw = document.getElementById(\"searchWindow\");\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n    if (e.target.value == \"\" || !search) {\r\n      sw.style.display = \"none\";\r\n    } else {\r\n      sw.style.display = \"block\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <Typography className={classes.title} variant=\"h5\" noWrap>\r\n            MUSI-CLOUD\r\n          </Typography>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ \"aria-label\": \"search\" }}\r\n              onChange={handleSearch}\r\n              value={search}\r\n            />\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div id=\"searchWindow\">\r\n        {result\r\n          ? result.map((track) => {\r\n              return (\r\n                <TrackSearchResult\r\n                  track={track}\r\n                  key={track.uri}\r\n                  chooseTrack={chooseTrack}\r\n                  input={sw}\r\n                />\r\n              );\r\n            })\r\n          : \"Nothing here\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Appbar;\r\n","import SpotifyWebApi from \"spotify-web-api-node\";\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n  clientId: process.env.REACT_APP_CLIENT_ID,\r\n});\r\n\r\nconst getSongs = (accessToken, search, setSearchResult, card = false) => {\r\n  spotifyApi.setAccessToken(accessToken);\r\n\r\n  if (!search) return setSearchResult([]);\r\n  if (!accessToken) return;\r\n  let cancel = false;\r\n  spotifyApi.searchTracks(search).then((res) => {\r\n    if (cancel) return;\r\n    setSearchResult(\r\n      res.body.tracks.items.map((track) => {\r\n        // console.log(track);\r\n        const smallAlbumImage = track.album.images.reduce((smallest, image) => {\r\n          if (card) {\r\n            if (image.height > smallest.height) return image;\r\n          } else {\r\n            if (image.height < smallest.height) return image;\r\n          }\r\n          return smallest;\r\n        }, track.album.images[0]);\r\n\r\n        return {\r\n          artist: track.artists,\r\n          title: track.name,\r\n          uri: track.uri,\r\n          albumUrl: smallAlbumImage.url,\r\n          externalUrl: track.external_urls.spotify,\r\n        };\r\n      })\r\n    );\r\n  });\r\n};\r\n\r\nexport default getSongs;\r\n","import { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\n\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\r\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\r\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { useEffect, useState } from \"react\";\r\nimport getSongs from \"../helper/spotifyAPICalls\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    background: \"#cae6e8\",\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  content: {\r\n    flex: \"1 0 auto\",\r\n  },\r\n  cover: {\r\n    width: \"10rem\",\r\n    height: \"inherit\",\r\n  },\r\n  controls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    paddingLeft: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n}));\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n  clientId: process.env.REACT_APP_CLIENT_ID,\r\n});\r\n\r\nconst MAX_SPEED = parseInt(process.env.REACT_APP_MAXSPEED);\r\n\r\nconst CardComponent = ({\r\n  index,\r\n  accessToken,\r\n  track,\r\n  speed,\r\n  setPlayingTrack,\r\n}) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [result, setResult] = useState([\r\n    {\r\n      artist: [{ name: \"Artist Name\" }],\r\n      title: \"Song name\",\r\n      albumUrl:\r\n        \"https://www.thefennvoice.org/.a/6a017d3e8f0065970c022ad3c481a6200d-pi\",\r\n    },\r\n  ]);\r\n\r\n  const getSongInfo = (track) => {\r\n    let search = track.Key._text;\r\n    if (speed < MAX_SPEED) {\r\n      search = search.substr(0, search.length - 8);\r\n    } else {\r\n      search = search.substr(0, search.length - 4);\r\n    }\r\n\r\n    getSongs(accessToken, search, setResult, true);\r\n  };\r\n\r\n  const handlePlay = (arg) => {\r\n    setPlayingTrack(arg);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n    spotifyApi.setAccessToken(accessToken);\r\n    getSongInfo(track);\r\n  }, [accessToken]);\r\n\r\n  return (\r\n    <div style={{ margin: \"1rem auto\", width: \"90%\" }}>\r\n      <Card className={classes.root}>\r\n        <CardMedia\r\n          className={classes.cover}\r\n          image={result[0] ? result[0].albumUrl : \"Image\"}\r\n          title=\"Live from space album cover\"\r\n        />\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <Typography\r\n              component=\"div\"\r\n              variant=\"h6\"\r\n              style={{\r\n                width: \"200px\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              <Box component=\"div\" textOverflow=\"ellipsis\" overflow=\"hidden\">\r\n                <strong>{result[0] ? result[0].title : \"SONG NAME\"}</strong>\r\n              </Box>\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n              {result[0] ? result[0].artist[0].name : \"Artist\"}\r\n            </Typography>\r\n          </CardContent>\r\n          <div className={classes.controls}>\r\n            <IconButton aria-label=\"previous\">\r\n              <SkipPreviousIcon />\r\n            </IconButton>\r\n            <a onClick={() => handlePlay(result[0])}>\r\n              <IconButton aria-label=\"play/pause\">\r\n                <PlayArrowIcon className={classes.playIcon} />\r\n              </IconButton>\r\n            </a>\r\n            <IconButton aria-label=\"next\">\r\n              <SkipNextIcon />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardComponent;\r\n","import { Typography } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport CardComponent from \"./CardComponent\";\r\n\r\nimport \"./home.css\";\r\n\r\nconst Home = ({ accessToken, result, speed, setPlayingTrack, setUrlName }) => {\r\n  return (\r\n    <div style={{ width: \"80%\", margin: \"1rem auto\" }}>\r\n      <Typography variant=\"h3\" component=\"h4\">\r\n        Library\r\n      </Typography>\r\n\r\n      <div className=\"homegrid\">\r\n        {result.map((track, index) => {\r\n          return (\r\n            <CardComponent\r\n              key={index}\r\n              accessToken={accessToken}\r\n              track={track}\r\n              speed={speed}\r\n              setPlayingTrack={setPlayingTrack}\r\n              setUrlName={setUrlName}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nconst backend = process.env.REACT_APP_BACKEND;\r\nconst MAX_SPEED = parseInt(process.env.REACT_APP_MAXSPEED);\r\n\r\nexport const playSong = async (speed, names, track) => {\r\n  let bucket = \"testmusicdata\";\r\n  if (speed > MAX_SPEED) {\r\n    bucket = \"testmusicdata\";\r\n  } else {\r\n    bucket = \"testmusicdata-lowrate\";\r\n  }\r\n  let test;\r\n  names.forEach((name) => {\r\n    if (name.includes(track.title)) {\r\n      test = name.replaceAll(\" \", \"%20\");\r\n    }\r\n  });\r\n  if (test)\r\n    return `https://${bucket}.s3.us-south.cloud-object-storage.appdomain.cloud/${test}`;\r\n};\r\n\r\nexport const handleDownload = async (track, speed) => {\r\n  let data = await axios\r\n    .get(`${backend}/download`, {\r\n      params: {\r\n        uri: track.externalUrl,\r\n        title: track.title,\r\n        artist: track.artist[0].name,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      console.log(\"DONE\");\r\n      return {\r\n        name: res.data.name,\r\n        dest: res.data.dest,\r\n      };\r\n    });\r\n  return {\r\n    name: data.name,\r\n    dest: data.dest,\r\n  };\r\n};\r\n\r\nexport const handleUpload = async (name, dest, speed) => {\r\n  let data = await axios\r\n    .get(`${backend}/upload`, {\r\n      params: {\r\n        name: name,\r\n        dest: dest,\r\n        internetSpeed: speed,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n  return {\r\n    data,\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./music.css\";\r\n\r\nconst MusicPlayer = ({ track, url }) => {\r\n  const [trackUrl, setTrackUrl] = useState(url);\r\n  useEffect(() => {\r\n    setTrackUrl(url);\r\n  }, [url, track]);\r\n\r\n  return (\r\n    <div id=\"container\">\r\n      <img src={track.albumUrl} width=\"100\" height=\"100\" alt=\"\" id=\"img\" />\r\n      <h1 className=\"title\">{track ? track.title : \"Song Name\"}</h1>\r\n\r\n      <audio\r\n        controls\r\n        style={{ width: \"95%\", marginLeft: \"-4rem\" }}\r\n        autoPlay\r\n        src={trackUrl}\r\n      ></audio>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MusicPlayer;\r\n","import { Button } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { handleDownload, handleUpload, playSong } from \"../helper/apiCalls\";\r\nimport MusicPlayer from \"./MusicPlayer\";\r\n\r\nconst backend = process.env.REACT_APP_BACKEND;\r\n\r\nconst Player = ({ track, speed }) => {\r\n  const [url, setUrl] = useState(\"\");\r\n  const [names, setNames] = useState([]);\r\n\r\n  const startUp = () => {\r\n    axios\r\n      .get(`${backend}/list`, {\r\n        params: {\r\n          internetSpeed: speed,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        let data = JSON.parse(res.data);\r\n        data.ListBucketResult.Contents.forEach((name) => {\r\n          setNames((arr) => [...arr, name.Key._text]);\r\n        });\r\n      });\r\n  };\r\n\r\n  let data;\r\n  const handlePlay = () => {\r\n    data = playSong(speed, names, track);\r\n    data.then((res) => setUrl(res));\r\n  };\r\n\r\n  const download = () => {\r\n    let btn = document.getElementById(\"btn\");\r\n    btn.innerHTML = \"Downloading...\";\r\n    let data = handleDownload(track, speed);\r\n    data.then((res) => {\r\n      btn.innerHTML = \"Uploading...\";\r\n      console.log(res);\r\n      let upload = handleUpload(res.name, res.dest, speed);\r\n      upload.then((result) => {\r\n        btn.innerHTML = \"Upload Successful\";\r\n        console.log(result.data);\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    startUp();\r\n    handlePlay();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    startUp();\r\n    handlePlay();\r\n  }, [track]);\r\n\r\n  return (\r\n    <div>\r\n      {url ? (\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            position: \"fixed\",\r\n            bottom: 0,\r\n            background:\r\n              \"linear-gradient(90deg, rgba(157,89,203,1) 0%, rgba(255,104,104,1) 50%, rgba(233,180,105,1) 100%)\",\r\n            padding: \"1rem 2rem\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <MusicPlayer track={track} url={url} />\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            position: \"fixed\",\r\n            bottom: 0,\r\n            paddingBottom: \"1rem\",\r\n            textAlign: \"center\",\r\n            background:\r\n              \"linear-gradient(90deg, rgba(157,89,203,1) 0%, rgba(255,104,104,1) 50%, rgba(233,180,105,1) 100%)\",\r\n          }}\r\n        >\r\n          <h2>Song Not found in Library</h2>\r\n          <Button\r\n            color=\"primary\"\r\n            id=\"btn\"\r\n            variant=\"contained\"\r\n            onClick={download}\r\n          >\r\n            Download\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Player;\r\n","import { Backdrop, CircularProgress } from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nconst Loading = () => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setOpen(!open);\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Backdrop className={classes.backdrop} open={open}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </Backdrop>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport useAuth from \"./useAuth\";\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport Appbar from \"./Components/Appbar\";\r\nimport Home from \"./Components/Home\";\r\nimport Player from \"./Components/Player\";\r\nimport getSongs from \"./helper/spotifyAPICalls\";\r\nimport Loading from \"./Components/Loading\";\r\n\r\nconst backend = process.env.REACT_APP_BACKEND;\r\nconst spotifyApi = new SpotifyWebApi({\r\n  clientId: process.env.REACT_APP_CLIENT_ID,\r\n});\r\n\r\nconst Dashboard = ({ code, speed }) => {\r\n  const accessToken = useAuth(code);\r\n\r\n  const [search, setSearch] = useState();\r\n  const [list, setList] = useState([]);\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [playingTrack, setPlayingTrack] = useState();\r\n\r\n  // const [lyrics, setLyrics] = useState(\"\");\r\n\r\n  const searchSongs = () => {\r\n    let cancel = false;\r\n\r\n    getSongs(accessToken, search, setSearchResult);\r\n    return () => (cancel = true);\r\n  };\r\n\r\n  const chooseTrack = (track) => {\r\n    setSearch(\"\");\r\n    setPlayingTrack(track);\r\n    setSearchResult([]);\r\n  };\r\n\r\n  // const playingLyrics = () => {\r\n  //   if (!playingTrack) return;\r\n\r\n  //   axios\r\n  //     .get(`${backend}/lyrics`, {\r\n  //       params: {\r\n  //         track: playingTrack.title,\r\n  //         artist: playingTrack.artist[0].name,\r\n  //       },\r\n  //     })\r\n  //     .then((res) => {\r\n  //       setLyrics(res.data.lyrics);\r\n  //     });\r\n  // };\r\n\r\n  const getList = () => {\r\n    console.log(\"Your Internet SPEED is: \", speed);\r\n    axios\r\n      .get(`${backend}/list`, { params: { internetSpeed: speed } })\r\n      .then((res) => JSON.parse(res.data))\r\n      .then((data) => {\r\n        data.ListBucketResult.Contents.forEach((song) => {\r\n          setList((old) => [...old, song]);\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (speed) getList();\r\n  }, [speed]);\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n    spotifyApi.setAccessToken(accessToken);\r\n  }, [accessToken]);\r\n\r\n  useEffect(() => {\r\n    searchSongs();\r\n  }, [accessToken, search]);\r\n\r\n  // useEffect(() => {\r\n  //   playingLyrics();\r\n  // }, [playingTrack]);\r\n\r\n  return (\r\n    <div>\r\n      <Appbar\r\n        search={search}\r\n        setSearch={setSearch}\r\n        result={searchResult}\r\n        setResult={setSearchResult}\r\n        setPlayingTrack={setPlayingTrack}\r\n        chooseTrack={chooseTrack}\r\n      />\r\n      <div style={{ marginTop: \"5rem\" }}></div>\r\n      {list.length == 0 && (\r\n        <div>\r\n          <Loading />\r\n        </div>\r\n      )}\r\n      {list.length !== 0 && (\r\n        <div>\r\n          <Home\r\n            result={list}\r\n            accessToken={accessToken}\r\n            speed={speed}\r\n            setPlayingTrack={setPlayingTrack}\r\n          />\r\n          <div style={{ marginBottom: \"10rem\" }}></div>\r\n\r\n          {playingTrack && <Player track={playingTrack} speed={speed} />}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { Button } from \"@material-ui/core\";\r\n\r\nconst client_id = process.env.REACT_APP_CLIENT_ID;\r\nconst redirect_uri = process.env.REACT_APP_REDIRECT_URI;\r\nconst scope =\r\n  \"streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state\";\r\n\r\nconst AUTH_URL = `https://accounts.spotify.com/authorize?client_id=${client_id}&response_type=code&redirect_uri=${redirect_uri}&scope=${scope}`;\r\n\r\n// console.log(\"AUTH URL: \", AUTH_URL);\r\nconst login = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundColor: \"#ebebeb\",\r\n      }}\r\n    >\r\n      <a href={AUTH_URL} style={{ textDecoration: \"none\" }}>\r\n        <Button color=\"secondary\" variant=\"contained\" size=\"large\">\r\n          Login to MUSICLOUD\r\n        </Button>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default login;\r\n","import { useState } from \"react\";\nimport Dashboard from \"./Dashboard\";\nimport Login from \"./Login\";\n\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#339ba5\",\n      main: \"#00838f\",\n      dark: \"#005b64\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#df6843\",\n      main: \"#d84315\",\n      dark: \"#972e0e\",\n      contrastText: \"#fff\",\n    },\n  },\n});\n\nconst code = new URLSearchParams(window.location.search).get(\"code\");\n\nfunction App() {\n  const [speed, setSpeed] = useState(0);\n\n  const getInternetSpeed = () => {\n    var imageAddr =\n      \"https://upload.wikimedia.org/wikipedia/commons/b/b9/Pizigani_1367_Chart_1MB.jpg\";\n    var downloadSize = 1048576; //bytes\n    var speedMbps;\n    function InitiateSpeedDetection() {\n      console.log(\"Checking your network speed, please wait...\");\n      window.setTimeout(MeasureConnectionSpeed, 1);\n    }\n\n    if (window.addEventListener) {\n      window.addEventListener(\"load\", InitiateSpeedDetection, false);\n    } else if (window.attachEvent) {\n      window.attachEvent(\"onload\", InitiateSpeedDetection);\n    }\n\n    function MeasureConnectionSpeed() {\n      var startTime, endTime;\n      var download = new Image();\n      download.onload = function () {\n        endTime = new Date().getTime();\n        showResults();\n      };\n\n      download.onerror = function (err, msg) {\n        console.error(\"Invalid image, or error downloading\");\n      };\n\n      startTime = new Date().getTime();\n      var cacheBuster = \"?nnn=\" + startTime;\n      download.src = imageAddr + cacheBuster;\n\n      function showResults() {\n        var duration = (endTime - startTime) / 1000;\n        var bitsLoaded = downloadSize * 8;\n        var speedBps = (bitsLoaded / duration).toFixed(2);\n        var speedKBps = (speedBps / 1024).toFixed(2);\n        var speedMBps = (speedKBps / 1024).toFixed(2);\n        speedMbps = (speedMBps * 8).toFixed(2);\n        setSpeed(speedMBps);\n      }\n    }\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      {getInternetSpeed()}\n      {code ? <Dashboard code={code} speed={speed} /> : <Login />}\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/\" component={App} exact />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}